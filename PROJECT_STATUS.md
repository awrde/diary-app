# 📱 피드백 주는 일기장 (AI Diary App) - 프로젝트 현황 보고서

## 해야할 것 
 
1. 새로 빌드 및플레이 스토어에 등록 (play console 사용자 인증 이후)
2. 대시보드에서 최근 7개 일기 종합 점수, 긍정 지수로 나타내기, 전체 감정 분포 순서 행복 좋음 보통 우울로 변경, 막대바 부분 가독성 좋게 가로가 아니라 세로로 각 항목 비교 쉽게 변경
3. 전체 일기 부분에서 감정 이모티콘 표시 부분 가독성 좋게 크기랑 모양 색 변경해주고, 각 항목 숫자 부분 크기도 키워줘
4. 전체 일기 부분에서 필터링 부분 감정별, 주제별 필터 가능하도록 변경(감정 부분 누르면 자동 해당 감정으로 필터링)
5. 대시보드, 기간별 회고, 총 일기 수와 전체 87개 일기 부분 누르면 전체 일기로 이동
6. 이미 오늘 쓴 일기가 있으면 새로 작성 버튼 누르면 "오늘 이미 일기를 작성했어요." 라고 띄우고 오늘 작성한 일기 수정으로 이동
7. 데이터 백업 기능, 복구 기능 추가
8. ㅁ중요ㅁ 실제 AI API 연동 후 오늘의 요약 및 AI 분석 로직 구현
9. 작성 시 내 위치 기반 날씨 데이터 가져와서 자동 입력
10. 되고 싶은 나 설정 추가
11. 설정 부분 AI 성격 설정 기능 추가
12. 설정 부분 평가 지표 가중치 설정 구현
13. 튜토리얼 기능 추가, 튜토리얼 끄기 추가
14. 좀더 동기부여 효과를 높이기 위한 장치들 추가(예: 일기 작성 시 일주일 목표 달성, 일주일 목표 달성 시 보상, 경험치나 레벨업 시스템)
15. 랭킹 시스템 추가(같이 가입한 친구와 함께 랭킹을 확인할 수 있도록)
16. 


## 1. 프로젝트 개요
사용자의 하루를 기록하면 AI(모의 로직)가 내용을 분석하여 **감정 상태, 주요 관심사, 맞춤형 피드백**을 제공하는 **Android 기반 하이브리드 앱**입니다.

---

## 2. 핵심 기능

### 📝 일기 작성 (Writing)
- **텍스트 기록**: 자유로운 형식의 일기 작성.
- **사진 첨부**: 최대 **3장**까지 사진 첨부 가능 (미리보기 및 삭제 기능 제공).
- **AI 성격 선택**: 
    - 따뜻한 공감형 (Warm Companion)
    - 발전 코치형 (Growth Coach)
    - 객관적 관찰자형 (Neutral Observer)
    - *각 성격별 예시 문구 제공*
- **수정 모드**: 작성한 일기의 내용을 수정하고 **즉시 재분석** 받을 수 있음.

### 🧠 AI 분석 (Analysis Logic)
*본 앱은 키워드 매칭 및 규칙 기반 알고리즘을 사용하여 AI 분석을 시뮬레이션합니다.*

1.  **감정 분석 (Emotion Scoring)**
    *   **0점 시작**: 긍정(Positive)와 부정(Negative) 점수는 **0점**에서 시작.
    *   **키워드 감지**: 대폭 확장된 단어 사전을 통해 긍정/부정 단어 빈도를 체크.
    *   **스코어링**: 
        *   긍정 단어 발견 시 +8점 / 부정 단어 발견 시 +8점.
        *   최종적으로 **긍정 vs 부정의 밸런스**를 계산하여 상태 판단.

2.  **주제 및 키워드 분석 (Topic Detection)**
    *   5가지 카테고리 감지: **경제(Money), 건강(Health), 관계(Relationship), 업무/성장(Work), 취미(Hobby)**.
    *   단순 유무가 아닌 **빈도수(Frequency)**를 체크하여 **가장 지배적인 주제(Dominant Topic)**를 선정.
    *   **경제/투자 특화**: '투자', '증시', '관세', '자산' 등 전문 키워드 감지 기능 강화.

3.  **동적 요약 (Dynamic Summary)**
    *   감지된 핵심 주제와 감정 상태를 조합하여 요약 문구를 동적으로 생성.
    *   예: "투자와 자산 관리에 깊은 관심을 기울이며..." (경제 키워드 많을 시)

4.  **맞춤형 피드백 (Feedback Generation)**
    *   **주제별 피드백**: 경제, 업무, 건강 등 특정 주제가 강할 경우 맞춤 조언 제공.
    *   **감정 세분화 피드백**: (긍정 - 부정) 점수 차이에 따라 **6단계**로 쪼개진 섬세한 피드백 제공.
        *   *매우 긍정 / 긍정 / 복합적(치열함) / 평온 / 부정 / 매우 부정*

### 📊 대시보드 (Dashboard)
- **종합 점수**: 가중치가 반영된 오늘의 종합 점수 표시.
- **감정 분포**: 최근 일기들의 감정을 **아이콘(Lucide Icon)**으로 시각화.
- **통계 차트**: 긍정, 조금, 보통, 흐림 등 날씨/표정 아이콘으로 직관적 표현.

---

## 3. UI/UX 개선 사항 (Recent Updates)

### 🎨 시각적 개선 (Visuals)
- **이모티콘 가독성 강화**: 기존 텍스트 이모지(😊)를 **Lucide React 아이콘(컬러 적용)**으로 전면 교체.
    - 😄 **행복**: 초록색 (`Laugh`)
    - 🙂 **좋음**: 파란색 (`Smile`)
    - 😐 **보통**: 노란색 (`Meh`)
    - 😞 **우울**: 빨간색 (`Frown`)
- **감정 분석 바 (Radar -> Bar)**: 
    - 복잡한 방사형 차트 대신 **부정(좌) <-> 긍정(우)** 형태의 **수평 바(Linear Bar)** UI 적용.
    - 0점을 기준으로 바늘이 움직이는 직관적인 디자인.
- **상세 분석 모달**: 불필요한 텍스트 수치를 제거하고 시각적 요소(Bar)에 집중.

### 🛠 기능적 개선 (Usability)
- **삭제/수정 기능**:
    - 모달 내 **[수정]**, **[삭제]** 버튼 활성화.
    - **안전한 삭제 UX**: 삭제 버튼 클릭 시 '정말 삭제하시겠습니까?' 확인 버튼으로 전환되는 **2단계 인-모달(In-Modal) UI** 적용 (Native Confirm 문제 해결).
    - **취소 기능**: 삭제 확인 상태에서는 [수정] 버튼이 **[취소]** 버튼으로 전환되어 안전하게 복귀 가능.
    - 수정 시 기존 내용과 이미지를 불러오며, 저장 시 **무조건 재분석** 수행.
- **사진 관리**: 업로드된 이미지의 미리보기 및 개별 삭제 버튼(X) 추가.

---

## 4. 기술 스택 (Tech Stack)
- **Framework**: Next.js 14+ (App Router)
- **Hybrid App**: Capacitor 6 (Android)
- **Styling**: Pure CSS Modules (Glassmorphism Design)
- **Storage**: IndexedDB (Dexie.js) - 대용량/비동기 데이터 영구 저장 (Robust Storage)
- **Icons**: Lucide React

---

## 5. 데이터 구조 (Data Structure)

```javascript
{
  id: 1702451234,
  date: "2024-03-20",
  content: "오늘은 주식 시장이 반등해서 기분이 좋다...",
  images: ["data:image/png;base64,..."], // Base64 인코딩된 이미지
  personality: "growth_coach",
  analysis: {
    summary: "투자와 자산 관리에 집중한 하루...",
    emotionalScore: {
      positive: 45, // 0점부터 시작
      negative: 0,
      neutral: 55
    },
    metricScores: {
      health: 3,
      money: 5, // 키워드 빈도에 따른 가산점
      relationship: 3,
      growth: 3,
      rest: 2,
      hobby: 3,
      work: 3
    },
    feedback: "경제적 자유를 향한 꾸준한 공부와..."
  }
}
```
